---
title: "stable 1.4.9"
date: 2010-10-29
---
Four months after 1.4.8 was released, some minor issues have accumulated and a new release was necessary.

It was also an opportunity to add some long-awaited minor feature improvements.

Among the issues that were fixed, a listener could be left in an unrecoverable state in case of memory shortage during an accept().

POST requests that were followed by a CRLF (forbidden) in a late packet could cause some TCP resets to be emitted on Linux due to those two unread bytes (diagnosed with Dietrich Hasselhorn).

Servers that were disabled while processing requests could still drain new requests from the global queue.

HTTP header handling for ACLs did not correctly consider quotes and used to consider commas within quotes as a list delimitor.

A server with address 0.0.0.0 used to rely on the system to connect to this address (which is always itself).

Now it forwards the connection the same way as in the transparent mode.

Various error reports and logs were fixed or improved, and many doc typos were fixed.

Now concerning the improvements, Krzysztof Oledzki improved his netsnmp-perl plugin to support listening sockets, and Mathieu Trudel's Cacti templates were merged.

Judd Montgomery and Cyril Bonté's work to support setting servers up/down from the stats interface has been merged too.

Gabor Lekeny added LDAPv3 health checks.

Hervé Commowick improved the MySQL check to support a complete login sequence with a real username.

When option "abortonclose" is set and a client disconnects while waiting for the server, now we forward the close notification to the server.

That way the server can decide whether to continue or close.

This is important for servers dealing with long polling requests.

The Explicit Content Validation (ECV) check code was finally merged after 18 months of reviewd and fixes by various people.

That was one major cause for delaying this release.

Health checks can now rely on a string that is looked up in server responses.

Persistence cookies now support inactivity timeouts and time to live.

This is needed with some new terminals such as iPhones where the browser is never closed and the terminal sticks to the same server forever (which is particularly undesired during a partial outage).

Also, we now have a new "preserve" option for cookies in "insert" mode, which indicate that if the server sets the cookie, then we let it pass unaffected.

This allows servers to terminate persistence upon logout.

Last, the "halog" utility was improved to support per-url and per-termination code statistics.

This means that it's now trivial to know what URLs take the most processing time.

Version [1.4.9](/download/1.4/src/CHANGELOG) was released with all that, with [sources](/download/1.4/src/) and Linux [binaries](/download/1.4/bin/) at the usual places.

Some of these fixes will slip into 1.3 too.
